@{
    ViewData["Title"] = "Home Page";
}
@model BookListDto
<script src="~/js/searchbar_categoty_events.js"></script>
<link rel="stylesheet" href="~/css/home.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/searchBox.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/booktable.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/pagination.css" asp-append-version="true" />


	<form asp-controller="Home" asp-action="SeachByPage" class="s_form" method="get" >
	<div id="cover">
		<div class="tb" >
            <div class="td">
				<input class="s_input" name="keyword" type="text" placeholder="Search" required value=@(Model == null ? "" : Model.keyword)>
	
            </div>
            <div class="td" id="s-cover">
                <button class="s_button" type="submit">
                    <div id="s-circle"></div>
                    <span></span>
                </button>
            </div>
			
        </div>
		<div class="category_area" id="category_dropdown_button">
			@* <label asp-for="currentPage">Kategori</label> *@
			<div class="dropdown">
				<input type="hidden" id="selectedCategory" name="selectedCategory" value=@(Model == null ? 0 : Model.currentSearchCategory) />
				<button type="button" onclick="mytoggleDropdown()" class="category_button form-control">Hepsi</button>
				<div id="dropdownContent" class="dropdown-content" style="display:inline-grid;">
					<a class="category-ref" href="#" onclick="selectCategory(0)">Hepsi</a>
					<a class="category-ref" href="#" onclick="selectCategory(1)">Tarih</a>
					<a class="category-ref" href="#" onclick="selectCategory(2)">ISBN</a>
					<a class="category-ref" href="#" onclick="selectCategory(3)">Yıl</a>
				</div>
			</div>

			
		@* 	<select class="category_button" asp-for="currentPage" asp-items="@(new SelectList(new List<SearchCategory> { new SearchCategory { Id = 1, Title = "Tarih" }, new SearchCategory { Id = 2, Title = "Yıl" } }, "Id", "Title"))" class="form-control">
				<option value="0">Hepsi</option>
			</select> *@
		@* 	<div class="dropdown">
				<button class="category_button" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					Dropdown button
				</button>
				<div class="dropdown-menu category_dropdown_menu" aria-labelledby="dropdownMenuButton">
					<a class="dropdown-item" href="#">Action</a>
					<a class="dropdown-item" href="#">Another action</a>
					<a class="dropdown-item" href="#">Something else here</a>
				</div>
			</div> *@
		@* 	<button class="category_button">dsad</button> *@
		</div>
	</div>
    </form>



<div id="search_result_cover">

</div>
@{
    if(Model != null)
    {

        <div class="table_cover">
            @foreach (var book in Model.books)
            {
				<h1></h1>
				<div class="table_item" data-recordid="113778" data-demirbas="0034332" data-eseradi="Şiirler / Cahit Zarifoğlu">
					@* card-header bg-white py-1 pr-2 *@
					<div class="table_item_header">
						<span class="float-left my-0 text-muted"><span class="small text-muted mr-2" title="0034332"><i class="fas fa-book"></i> @book.Category.CategoryName</span>  </span>
						<span class="float-right"> <a href="#" class="aktarim btn btn-sm" data-toggle="tooltip" title="" data-original-title="Aktarım"><i class="fas fa-exchange-alt text-secondary"></i></a><a href="#" class="paylas btn btn-sm" data-toggle="tooltip" title="" data-original-title="Paylaş"><i class="fas fa-share-alt text-secondary"></i></a><a href="#" class="favori btn btn-sm" data-toggle="tooltip" title="" data-original-title="Favori / Kargo"><i class="fas fa-star text-muted"></i></a></span>
					</div>
					<div class="card-body">
						<div class="d-flex">
							<div class="gorsel liste mr-2">
								<a href="#" class="detayAc pencere d-block">
									<div class="flip-box">
										<div class="flip-box-inner">
											<div class="flip-box-front">
												<img src="https://yordam.medeniyet.edu.tr/veriler/cokluortam/cokluortam/A/A/C/E/D/Untitled.bmp" alt="9789754730012" class="img-fluid">
											</div>
											<div class="flip-box-back">
												<img src="A/A/C/E/D/Untitled.jpg" alt="9789754730012" class="img-fluid">
											</div>
										</div>
									</div>
								</a>

							</div>
							<div class="orta w-100 pl-2">
								<h2 class="text-primary mb-0"> <a href="#" class="detayAc pencere" data-toggle="tooltip" title="" data-original-title="Ayrıntı">@book.Title</a></h2>

								<div class="">Author: @book.Author.AuthorName</div>
								<div class="">Year: @book.PublicationDate</div>
								<div class="">Path: @book.BookCover.BookCoverPath</div>
								<div class="">ISBN: @book.ISBN</div>
								<div class=""></div>
							</div><!--orta-->
							<div class="qrKapsayan text-right d-flex">

								<div class="qr"><canvas width="60" height="60"></canvas></div>
							</div>
						</div><!--row-->
					</div><!--card-body-->
					<div class="aktarimKapsayan"></div>
					<div class="card-footer py-1 bg-white">
						<div class="islem">
							<div class="kutuphane float-left text-muted small"><span><span>Kütüphane</span> <b>İstanbul Medeniyet Üniversitesi Ziraat Bankası Kütüphanesi</b></span><span><span>Bölüm</span> <b>Merkez Kütüphane</b></span><span><span>Oda</span> <b>Okuma Salonu (Zemin Kat)</b></span><span><span>Tür</span> <b>Kitap</b></span><span><span>Alt Biçim</span> <b>Şiir</b></span><span><span>Şekil</span> <b>Basılı</b></span><span><span>Ortam</span> <b>Kağıt</b></span><span><span>Sınıflama yer bilgisi</span> <b>PL 248 .Z37 Ş55</b></span><span><span>Durum</span> <b><span class="text-success">Rafta</span></b></span><span><span>Kopya</span> <b>k.1</b></span></div>
							<div class="float-right satirIciKapat d-none"><button type="button" class="close"><span class="text-danger">✕</span> </button></div>
							<a href="#" class="detayAc satirIci float-right  small" data-toggle="tooltip" title="" data-original-title=""><i class="fas fa-arrow-down"></i> Ayrıntı</a>
						</div>
						<div class="satirIciKapsayan"></div>
					</div><!--card-footer-->
				</div>
            }
        </div>

		<div class="pagination">
			@if (Model.totalPage > 1)
			{
				@if (Model.currentPage > 1)
				{
					<a href="@Url.Action("SeachByPage", new { keyword = Model.keyword, currentPage = 1 })">&laquo;</a>
				}

				@for (int i = 1; i <= Model.totalPage; i++)
				{
					if (i == Model.currentPage)
					{
						<a class="active" href="@Url.Action("SeachByPage", new { keyword = Model.keyword, currentPage = i })">@i</a>
					}
					else
					{
						<a href="@Url.Action("SeachByPage", new { keyword = Model.keyword, currentPage = i })">@i</a>
					}
				}

				@if (Model.currentPage < Model.totalPage)
				{
					<a href="@Url.Action("SeachByPage", new { keyword = Model.keyword, currentPage = Model.totalPage })">&raquo;</a>
				}
			}
		</div>
    }


}




